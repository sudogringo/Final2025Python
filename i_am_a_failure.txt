# Plan to fix `404 Not Found` for OrderDetail Endpoints (Actual Fix)

**Reasoning for Failures:**

The persistent `404 Not Found` errors for the `order_details` endpoints, despite routes being correctly defined within `OrderDetailController`'s router, stem from a subtle but critical mismatch between the API endpoint prefixes defined in `main.py` and the URLs used in the test suite.

*   **In `main.py`:** The router for `OrderDetailController` is included with the prefix `/order_details` (using an underscore):
    ```python
    order_detail_controller = OrderDetailController()
    fastapi_app.include_router(order_detail_controller.router, prefix="/order_details")
    ```
*   **In the tests (`tests/test_controllers.py` and `tests/test_integration.py`):** Requests to the `order_details` endpoints incorrectly use a hyphen (`-`) in the path:
    ```python
    # Example from tests/test_controllers.py
    response = api_client.post("/order-details/", json=payload)
    api_client.delete(f"/order-details/{order_detail_id}")
    ```
FastAPI, when receiving a request to `/order-details/`, cannot find a matching route because all `OrderDetailController`'s routes are registered under `/order_details`. This correctly results in a `404 Not Found`.

**The Solution:**

The tests must use the correct URL paths, matching the prefix defined in `main.py`. All instances of `/order-details/` (with a hyphen) in the test files need to be changed to `/order_details/` (with an underscore).

---
**Plan of Action:**

1.  **Modify `tests/test_controllers.py`:**
    *   Replace all occurrences of `/order-details/` with `/order_details/`.
    *   Replace all occurrences of `/order-details/{id_key}` with `/order_details/{id_key}`.

2.  **Modify `tests/test_integration.py`:**
    *   Replace all occurrences of `/order-details/` with `/order_details/`.
    *   Replace all occurrences of `/order-details/{id_key}` with `/order_details/{id_key}`.

After applying these changes, the `OrderDetailEndpoints` tests should correctly hit the registered routes.
